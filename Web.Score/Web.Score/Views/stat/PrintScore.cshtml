<div class="row">
    <div class="col-sm-3">
        <form role="form">
            <div class="form-group">
                <select class="form-control" ng-model="conditionData.MicYear" ng-options="m.MicYear for m in AcademicYears">
                    <option value="">-- 请选择学年--</option>
                </select>
            </div>
            <div class="form-group">
                <select class="form-control" ng-model="conditionData.Semester" ng-options="m.name for m in Semesters">
                    <option value="">-- 请选择学期--</option>
                </select>
            </div>
            <div class="form-group">
                <select class="form-control" ng-model="conditionData.PrintMethod" ng-options="m.name for m in PrintMethods">
                    <option value="">-- 请选择打印方式--</option>
                </select>
            </div>
            <div class="form-group">
                <select class="form-control" ng-model="conditionData.GradeCode" ng-options="m.GradeName for m in GradeCodes">
                    <option value="">-- 请选择年级--</option>
                </select>
            </div>
            <div class="form-group">
                <select class="form-control" ng-model="conditionData.GradeClass" ng-options="(conditionData.GradeCode.GradeBriefName + '(' + m.ClassNo.substr(2,2)+ ')班') for m in GradeClasses">
                    <option value="">-- 请选择班级--</option>
                </select>
            </div>
            <div class="checkbox" ng-show="Students.length > 0">
                <label ng-repeat="student in Students" style="width:6em;">
                    <input type="checkbox" checklist-value="student" checklist-model="studentChecks"> {{student.StdName}}
                </label>
            </div>
            <div class="form-group">
                <select class="form-control" ng-model="conditionData.TestType" ng-options="m.name for m in ExamMethods">
                    <option value="">-- 请选择考试类型 --</option>
                </select>
            </div>
            <div class="form-group">
                <select class="form-control" ng-model="conditionData.TestLogin" ng-options="m.TestLoginNo for m in TestLogins">
                    <option value="">-- 请选择考试号 --</option>
                </select>
            </div>
            <div class="form-group">
                <button type="button" class="btn btn-primary pull-right" ng-click="stat();"><span class="glyphicon glyphicon-ok"></span>统 计</button>
            </div>
        </form>
    </div>
    <div class="col-sm-9">
        <div class="row">
            <div class="col-sm-12" style="overflow-y:auto;max-height:46em;" >
                <div class="row">
                    <div class="col-sm-12" style="text-align:center;font-size:2em;">{{conditionData.Student.StdName}}成绩单</div>
                </div>
                <div class="row">
                    <div class="col-sm-10 col-sm-offset-1">
                        <table class="table table-striped table-bordered" style="width:100%">
                            <thead>
                                <tr>
                                    <td style="text-align:center">姓名</td>
                                    <td style="text-align:center">课程</td>
                                    <td style="text-align:center">考试类型</td>
                                    <td style="text-align:center">得分</td>
                                    <td style="text-align:center">等级</td>
                                    <td style="text-align:center">学期</td>
                                    <td style="text-align:center">学年</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="item in base">
                                    <td>{{item.stdname}}</td>
                                    <td>{{item.courseName}}</td>
                                    <td>{{item.TypeName}}</td>
                                    <td>{{item.NumScore}}</td>
                                    <td>{{item.levelscore}}</td>
                                    <td>{{item.semester}}</td>
                                    <td>{{item.academicyear}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
<div class="row">
    <div class="col-sm-12">
        <div class="row" ng-show="data1.length > 0">
            <div class="col-sm-12" style="text-align:center;font-size:2em;">
                {{conditionData.Student.StdName}}成绩报表
            </div>
        </div>

        <div class="row" ng-repeat="item in data1" style="margin-top:2em;">
            <div class="col-sm-12" style="text-align:center;overflow-y:auto">
                <table class="table table-striped table-bordered" style="width:100%">
                    <tbody>
                        <tr>
                            <td>{{conditionData.GradeCode.GradeBriefName + '(' + conditionData.GradeClass.ClassNoPart + ')班'}}</td>
                            <td>种类</td>
                            <td>语文</td>
                            <td>数学</td>
                            <td>外语</td>
                            <td>政治</td>
                            <td>物理</td>
                            <td>化学</td>
                            <td>历史</td>
                            <td>地理</td>
                            <td>生物</td>
                            <td>电脑</td>
                            <td>总分</td>
                        </tr>
                        <tr>
                            <td>{{conditionData.TestType.name}}</td>
                            <td>{{item.S_0}}</td>
                            <td>{{item.Yuwen}}</td>
                            <td>{{item.ShuXue}}</td>
                            <td>{{item.WaiYu}}</td>
                            <td>{{item.Zhengzhi}}</td>
                            <td>{{item.WuLi}}</td>
                            <td>{{item.HuaXue}}</td>
                            <td>{{item.lishi}}</td>
                            <td>{{item.DiLi}}</td>
                            <td>{{item.sw}}</td>
                            <td>{{item.diannao}}</td>
                            <td>{{item.numscore}}</td>
                        </tr>
                        <tr>
                            <td>姓名</td>
                            <td>{{item.S_1}}</td>
                            <td>{{item.TYuwen}}</td>
                            <td>{{item.TShuXue}}</td>
                            <td>{{item.TWaiYu}}</td>
                            <td>{{item.TZhengzhi}}</td>
                            <td>{{item.TWuLi}}</td>
                            <td>{{item.THuaXue}}</td>
                            <td>{{item.Tlishi}}</td>
                            <td>{{item.TDiLi}}</td>
                            <td>{{item.Tsw}}</td>
                            <td>{{item.Tdiannao}}</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>{{item.StdName}}</td>
                            <td>{{item.S_2}}</td>
                            <td>{{item.LYuwen}}</td>
                            <td>{{item.LShuXue}}</td>
                            <td>{{item.LWaiYu}}</td>
                            <td>{{item.LZhengzhi}}</td>
                            <td>{{item.LWuLi}}</td>
                            <td>{{item.LHuaXue}}</td>
                            <td>{{item.Llishi}}</td>
                            <td>{{item.LDiLi}}</td>
                            <td>{{item.Lsw}}</td>
                            <td>{{item.Ldiannao}}</td>
                            <td></td>
                        </tr>
                        <tr>
                        	<td colspan="5">欢迎使用成绩分析系统</td>
                            <td colspan="4">考试时间：{{appUtils.formatDate(testTime)}}</td>
                            <td colspan="4">{{now}}  {{schoolName}}打印</td> 
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="row" ng-repeat="item in data2" ng-show="data2.length > 0" style="margin-top:3em;">
            <div class="col-sm-12" style="text-align:center;">
                <table class="table table-striped table-bordered" style="width:100%">
                    <tbody>
                        <tr>
                            <td colspan="3" style="width:20%;">{{item.srid}}</td>
                            <td colspan="7" style="width:40%">{{item.stdname}}同学成绩报告单</td>
                            <td colspan="1" style="width:40%">{{item.xxbh}}</td>
                        </tr>
                        <tr>
                            <td colspan="10" style="text-align:left;">
                                <p style="padding-left:4em;">家长同志:<p>
                                <p style="padding-left:2em;">您的孩子 <b>{{item.stdname}}</b> 同学2013年第二学期在本校{{conditionData.GradeCode.GradeBriefName + '(' + conditionData.GradeClass.ClassNo.substr(2,2)+ ')班'}}就读，该同学在本学期的具体成绩如下：</p>
                            </td>
                            <td rowspan="14">班主任学期评语</td>
                        </tr>
                        <tr>
                            <td rowspan="2" style="padding-top:2em;">课程</td>
                            <td rowspan="2" style="padding-top:2em;">平时</td>
                            <td colspan="3">期中</td>
                            <td colspan="3">期末</td>
                            <td rowspan="2" style="padding-top:2em;">学期</td>
                            <td rowspan="2" style="padding-top:2em;">学年</td>
                        </tr>
                        <tr>
                            <td>成绩</td>
                            <td>等第</td>
                            <td>Z分</td>
                            <td>成绩</td>
                            <td>等第</td>
                            <td>Z分</td>
                        </tr>
                        <tr>
                            <td>语文</td>
                            <td>{{item.YW_P}}</td>
                            <td>{{item.YW_ZY}}</td>
                            <td>{{item.YW_ZT}}</td>
                            <td>{{item.YW_ZL}}</td>
                            <td>{{item.YW_MY}}</td>
                            <td>{{item.YW_MT}}</td>
                            <td>{{item.YW_ML}}</td>
                            <td>{{item.YW_QM}}</td>
                            <td>{{item.YW_XN}}</td>
                        </tr>
                        <tr>
                            <td>数学</td>
                            <td>{{item.SX_P}}</td>
                            <td>{{item.SX_ZY}}</td>
                            <td>{{item.SX_ZT}}</td>
                            <td>{{item.SX_ZL}}</td>
                            <td>{{item.SX_MY}}</td>
                            <td>{{item.SX_MT}}</td>
                            <td>{{item.SX_ML}}</td>
                            <td>{{item.SX_QM}}</td>
                            <td>{{item.SX_XN}}</td>
                        </tr>
                        <tr>
                            <td>外语</td>
                            <td>{{item.WY_P}}</td>
                            <td>{{item.WY_ZY}}</td>
                            <td>{{item.WY_ZT}}</td>
                            <td>{{item.WY_ZL}}</td>
                            <td>{{item.WY_MY}}</td>
                            <td>{{item.WY_MT}}</td>
                            <td>{{item.WY_ML}}</td>
                            <td>{{item.WY_QM}}</td>
                            <td>{{item.WY_XN}}</td>
                        </tr>
                        <tr>
                            <td>政治</td>
                            <td>{{item.ZZ_P}}</td>
                            <td>{{item.ZZ_ZY}}</td>
                            <td>{{item.ZZ_ZT}}</td>
                            <td>{{item.ZZ_ZL}}</td>
                            <td>{{item.ZZ_MY}}</td>
                            <td>{{item.ZZ_MT}}</td>
                            <td>{{item.ZZ_ML}}</td>
                            <td>{{item.ZZ_QM}}</td>
                            <td>{{item.ZZ_XN}}</td>
                        </tr>
                        <tr>
                            <td>物理</td>
                            <td>{{item.WL_P}}</td>
                            <td>{{item.WL_ZY}}</td>
                            <td>{{item.WL_ZT}}</td>
                            <td>{{item.WL_ZL}}</td>
                            <td>{{item.WL_MY}}</td>
                            <td>{{item.WL_MT}}</td>
                            <td>{{item.WL_ML}}</td>
                            <td>{{item.WL_QM}}</td>
                            <td>{{item.WL_XN}}</td>
                        </tr>
                        <tr>
                            <td>化学</td>
                            <td>{{item.HX_P}}</td>
                            <td>{{item.HX_ZY}}</td>
                            <td>{{item.HX_ZT}}</td>
                            <td>{{item.HX_ZL}}</td>
                            <td>{{item.HX_MY}}</td>
                            <td>{{item.HX_MT}}</td>
                            <td>{{item.HX_ML}}</td>
                            <td>{{item.HX_QM}}</td>
                            <td>{{item.HX_XN}}</td>
                        </tr>
                        <tr>
                            <td>历史</td>
                            <td>{{item.LS_P}}</td>
                            <td>{{item.LS_ZY}}</td>
                            <td>{{item.LS_ZT}}</td>
                            <td>{{item.LS_ZL}}</td>
                            <td>{{item.LS_MY}}</td>
                            <td>{{item.LS_MT}}</td>
                            <td>{{item.LS_ML}}</td>
                            <td>{{item.LS_QM}}</td>
                            <td>{{item.LS_XN}}</td>
                        </tr>
                        <tr>
                            <td>地理</td>
                            <td>{{item.DL_P}}</td>
                            <td>{{item.DL_ZY}}</td>
                            <td>{{item.DL_ZT}}</td>
                            <td>{{item.DL_ZL}}</td>
                            <td>{{item.DL_MY}}</td>
                            <td>{{item.DL_MT}}</td>
                            <td>{{item.DL_ML}}</td>
                            <td>{{item.DL_QM}}</td>
                            <td>{{item.DL_XN}}</td>
                        </tr>
                        <tr>
                            <td>生物</td>
                            <td>{{item.SW_P}}</td>
                            <td>{{item.SW_ZY}}</td>
                            <td>{{item.SW_ZT}}</td>
                            <td>{{item.SW_ZL}}</td>
                            <td>{{item.SW_MY}}</td>
                            <td>{{item.SW_MT}}</td>
                            <td>{{item.SW_ML}}</td>
                            <td>{{item.SW_QM}}</td>
                            <td>{{item.SW_XN}}</td>
                        </tr>
                        <tr>
                            <td>电脑</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>体育</td>
                            <td>{{item.TY_P}}</td>
                            <td>{{item.TY_ZY}}</td>
                            <td>{{item.TY_ZT}}</td>
                            <td>{{item.TY_ZL}}</td>
                            <td>{{item.TY_MY}}</td>
                            <td>{{item.TY_MT}}</td>
                            <td>{{item.TY_ML}}</td>
                            <td>{{item.TY_QM}}</td>
                            <td>{{item.TY_XN}}</td>
                        </tr>
                        <tr>
                            <td colspan="2" style="text-align:left">美术: {{MS_QM}}</td>
                            <td colspan="3" style="text-align:left">音乐: {{YY_QM}}</td>
                            <td colspan="3" style="text-align:left">劳技: {{LJ_QM}}</td>
                            <td colspan="2" style="text-align:left;">艺术: {{YS_QM}}</td>
                            <td>班主任签字</td>
                        </tr>
                        <tr>
                            <td colspan="5" style="text-align:left">学期出勤情况</td>
                            <td colspan="5" style="text-align:left">担任社会工作</td>
                            <td style="text-align:left">在校奖惩记录</td>
                        </tr>
                        <tr>
                            <td>事假情况</td>
                            <td>{{item.SJ}}</td>
                            <td colspan="2">病假情况</td>
                            <td>{{item.BJ}}</td>
                            <td rowspan="3" colspan="5"></td>
                            <td rowspan="3"></td>
                        </tr>
                        <tr>
                            <td>迟到情况</td>
                            <td>{{item.CD}}</td>
                            <td colspan="2">早退情况</td>
                            <td>{{item.ZT}}</td>
                        </tr>
                        <tr>
                            <td>旷课情况</td>
                            <td>{{item.KK}}</td>
                            <td colspan="2"></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td colspan="7">欢迎使用成绩分析系统</td>
                            <td colspan="4">{{schoolName}}教务处制作 {{now}}  </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    require.config({
        packages: [
            { name: 'echarts', location: '/content/charts/echarts', main: 'echarts' },
            { name: 'zrender', location: '/content/charts/zrender', main: 'zrender' }
        ]
    });
</script>
